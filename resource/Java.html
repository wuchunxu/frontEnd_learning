<h2>Java</h2>
<button class="back">返回</button>
<ul class="menu">
    <li>
        <p>JDBC</p>
        <div class="desc">
            <h2>JDBC</h2>
            <h3>什么是JDBC</h3>
            <p>JDBC是SUN公司定义的标准，规定了统一的数据库访问方法。各大数据库厂商实现该标准，让java可以操作数据库。JDBC屏蔽了不同数据库之间的差异，一套接口可以操作多种数据库。</p>
            <h3>使用JDBC</h3>
            <dl class="accordion">
                <dt>JDBC基本用法</dt>
                <dd>
                    <pre class="code">package day01;
import java.sql.*;

public class jdbc01 {
    <span class="note">//参数提取出来</span>
    private static String url = "jdbc:mysql://localhost:3306/xz?<span class="note">serverTimezone=GMT";//系统和数据库时区差异</span>
    private static String user = "root";
    private static String password = "";
    private static String driver = "com.mysql.cj.jdbc.Driver";
    
    public static void main(String[] args) {
        
        Connection conn = null;
        Statement stmt = null;
        ResultSet rs = null;
        
        try {
            <span class="note">//(1)注册驱动</span>
            Class.forName(driver);
            <span class="note">//(2)拿到数据库的连接</span>
            conn = DriverManager.getConnection(url, user, password);
            System.out.println(conn);
            System.out.println(conn.getClass());
            <span class="note">//(3)创建statement对象</span>
            stmt = conn.createStatement();
            String sql = "SELECT * FROM xz_user WHERE uid&lt;10";
            <span class="note">//(4)执行sql语句</span>
            rs = stmt.executeQuery(sql);
            <span class="note">//(5)处理数据库返回的结果</span>
            while(rs.next()) {
                int uid = rs.getInt("uid");
                String uname = rs.getString("uname");
                System.out.println(uid+" "+uname);
                <span class="note">//留一个问题：如何将数据做成json?</span>
            }
        }catch(SQLException e) {
            e.printStackTrace();
        }
        catch(Exception e) {
            e.printStackTrace();
        }finally {
            try {
                rs.close();
                stmt.close();
                if(conn!=null)conn.close();
            } catch (SQLException e) {
                e.printStackTrace();
            }
        }
    }
}</pre>
                </dd>
                <dt>JDBC操作的封装</dt>
                <dd>
                    <p>将参数放到<span class="code">db.properties</span>文件中，实现代码的复用。通过参数的配置，我们可以很轻松的切换数据库、用户</p>
                    <pre class="code">package day01;

import java.io.IOException;
import java.io.InputStream;
import java.util.Properties;

public class jdbc02 {

    public static void main(String[] args) {
        
        Properties config = new Properties(); <span class="note">//创建Properties对象</span>
        InputStream in = jdbc02.class.getClassLoader().getResourceAsStream("db.properties"); <span class="note">//这里需要恶补一下反射</span>
        
        try {
            config.load(in);
        } catch (IOException e) {
            e.printStackTrace();
        }
        
        String driver   = config.getProperty("jdbc.driver");
        String user     = config.getProperty("jdbc.user");
        String password = config.getProperty("jdbc.password");
        String url      = config.getProperty("jdbc.url");
        
        System.out.println(driver);
        System.out.println(user);
        System.out.println(password);
        System.out.println(url);
    }
}
</pre>
                </dd>
            </dl>
        <h3>连接池技术</h3>
        <h3>相关小知识点</h3>
        <dl class="accordion">
            <dt>Properties</dt>
            <dd>
                
            </dd>
            <dt>ResultSet</dt>
            <dd>
                <p>ResultSet对象可用于封装sql语句查询的结果，使用游标控制数据。</p>
                <table>
                    <tr>
                        <td>Boolean next()</td>
                        <td>结果集游标下移，判断是否有数据</td>
                    </tr>
                    <tr>
                        <td>getInt("uname")</td>
                        <td></td>
                    </tr>
                </table>
                <p>数据库中数据类型对应java中获取的方法</p>
                <table>
                    <tr>
                        <td>char/varchar</td>
                        <td>getString()</td>
                    </tr>
                    <tr>
                        <td>int</td>
                        <td>getInt()</td>
                    </tr>
                    <tr>
                        <td>bigint</td>
                        <td>getLong()</td>
                    </tr>
                    <tr>
                        <td>float/double</td>
                        <td>getFloat()/getDouble()</td>
                    </tr>
                    <tr>
                        <td>datetime/timestamp</td>
                        <td>getDate()</td>
                    </tr>
                </table>
            </dd>
        </dl>
        </div>
    </li>
</ul>